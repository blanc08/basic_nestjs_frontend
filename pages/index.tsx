import type { NextPage } from 'next';
import Head from 'next/head';
import Image from 'next/image';
import { useRef, useState } from 'react';
import styles from '../styles/Home.module.css';

interface Props {
  data: {};
}

const Home: NextPage<Props> = ({ data }) => {
  // * What does <Props> mean?

  const [user, setUser] = useState({ username: '', password: '' });

  console.log(data);

  async function login() {
    console.log(JSON.stringify(user));
  }

  return (
    <main className="md:flex flex-row h-screen">
      <Head>
        <title>Learn NestJs</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <section className="md:grow bg-brand-green flex items-center text-brand-white">
        <div className="md:p-16 p-8">
          <h4 className="md:text-4xl text-2xl font-bold">
            Welcome to Learning Page!
          </h4>
          <p className="text-xl md:text-2xl">
            <code className="code text-sm">
              A testing app to lear NestJs & GraphQL
            </code>
          </p>

          <footer className="my-6 ">
            <a
              href="https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app"
              target="_blank"
              rel="noopener noreferrer"
            >
              Powered by{' '}
              <span className="h-2">
                <Image
                  src="/vercel.svg"
                  alt="Vercel Logo"
                  width={72}
                  height={16}
                />
              </span>
            </a>
          </footer>
        </div>
      </section>
      {/* login section */}
      <section className="md:w-5/12">
        <div className="lg:p-16 p-8 h-full flex flex-col align-middle">
          <div className="flex flex-col items-center my-auto xl:px-12">
            <label className="block">
              <span className="text-sm font-bold">Username</span>
              <input
                className="w-full p-2 border-2 border-brand-neutral-0 mb-3"
                type="text"
                value={user.username}
                onChange={(e) => setUser({ ...user, username: e.target.value })}
              />
            </label>
            <label className="block">
              <span className="text-sm font-bold">Password</span>
              <input
                className="w-full p-2 border-2 border-brand-neutral-0 mb-3"
                type="password"
                value={user.password}
                onChange={(e) => setUser({ ...user, password: e.target.value })}
              />
            </label>
            <button
              className="w-full p-2 max-w-[280px] bg-brand-green text-white font-bold my-3 uppercase"
              onClick={login}
            >
              Login
            </button>
          </div>
        </div>
      </section>
    </main>
  );
};

export async function getServerSideProps() {
  // Init Apollo Client

  // fetch data from server

  return {
    props: { data: 'ini ok' },
  };
}

export default Home;
